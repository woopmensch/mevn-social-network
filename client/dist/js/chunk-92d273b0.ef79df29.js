(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-92d273b0"],{"35ca":function(s,t,e){"use strict";var i=e("7424"),a=e("c0d6");t["a"]={async fetchUserById(s){let t;try{t=await Object(i["a"])({url:`/users/${s}`,method:"GET",crossdomain:!0})}catch(e){console.log(e)}return t.data},async updateUserInfo(s){let t;try{t=await Object(i["a"])({url:"/users/current/update",method:"PUT",crossdomain:!0,data:s}),a["a"].dispatch("saveUserData",t.data.user)}catch(e){console.log(e)}return t.data}}},c66d:function(s,t,e){"use strict";e.r(t);var i=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{attrs:{id:"profile"}},[e("h1",{staticClass:"uk-text-primary"},[s._v("Profile")]),e("div",{staticClass:"uk-flex uk-flex-column uk-flex-center uk-flex-middle"},[e("span",{attrs:{"uk-icon":"user",width:"100"}}),e("span",{staticClass:"uk-card-title"},[s._v(s._s(s.user.name))]),e("span",{staticClass:"uk-text-meta"},[s._v("@"+s._s(s.user._id))]),e("p",[s._v(s._s(s.user.status))])]),s.isProfilePersonal?e("CreatePost",{on:{newPost:s.fetchNewPost}}):s._e(),e("ul",{staticClass:"uk-tab"},[e("li",{ref:"userPosts",on:{click:function(t){return s.fetchPostsByUser()}}},[e("a",[s._v("My posts")])]),e("li",{ref:"likedPosts",on:{click:function(t){return s.fetchLikedPosts()}}},[e("a",[s._v("Liked posts")])])]),"userPosts"===s.activeTab?e("div",s._l(s.posts,(function(s){return e("Post",{key:s._id,ref:s._id,refInFor:!0,staticClass:"uk-animation-fade",attrs:{post:s}})})),1):s._e(),"likedPosts"===s.activeTab?e("div",s._l(s.posts,(function(s){return e("Post",{key:s._id,ref:s._id,refInFor:!0,staticClass:"uk-animation-fade",attrs:{post:s}})})),1):s._e()],1)},a=[],o=e("3891"),r=e("9c93"),c=e("35ca"),n=e("46fe"),u=e("2f62"),d={props:["userId"],name:"home",components:{CreatePost:o["a"],Post:r["a"]},data:function(){return{user:{},posts:[],newPostText:"",activeTab:"userPosts"}},computed:{...Object(u["c"])(["currentUser"]),isProfilePersonal:function(){return this.currentUser._id===this.userId}},methods:{async fetchUserData(){this.user=await c["a"].fetchUserById(this.userId)},async fetchPostsByUser(){this.posts=await n["a"].fetchPostsByUser(this.userId),this.activeTab="userPosts",this.$refs.likedPosts.classList.remove("uk-active"),this.$refs.userPosts.classList.add("uk-active")},async fetchLikedPosts(){this.posts=await n["a"].fetchLikedPosts(this.userId),this.activeTab="likedPosts",this.$refs.userPosts.classList.remove("uk-active"),this.$refs.likedPosts.classList.add("uk-active")},fetchNewPost(s){this.posts.unshift(s)}},mounted(){this.fetchUserData(),this.fetchPostsByUser()},sockets:{deletePost:function(s){const t=this.posts.filter(t=>t._id===s),e=this.posts.indexOf(...t);this.posts.splice(e,1)},togglePostLike:function(s){const t=this.posts.filter(t=>t._id===s.targetPost),e=this.posts.indexOf(...t);this.posts[e].likes=s.likes},newComment:function(s){const t=s.post._id,e=this.$refs[t][0],i=e.post,a=e.comments;Object.assign(i,s.post),a.push(s.comment)},toggleCommentLike:function(s){const t=this.$refs[s.targetPost],e=t[0].comments.filter(t=>t._id===s.targetComment);e[0].likes=s.likes},deleteComment:function(s){const t=s.targetPost._id,e=this.$refs[t][0],i=e.post,a=e.comments,o=a.filter(t=>t._id===s),r=a.indexOf(...o);Object.assign(i,s.targetPost),a.splice(r,1)}},watch:{"$route.params.userId":function(){this.fetchUserData(),this.fetchPostsByUser()}}},l=d,f=e("2877"),h=Object(f["a"])(l,i,a,!1,null,null,null);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-92d273b0.ef79df29.js.map