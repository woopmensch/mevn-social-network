(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f9829394"],{"26d3":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"settings"}},[a("h1",{staticClass:"uk-text-primary"},[t._v("Settings")]),a("div",{staticClass:"uk-card"},[a("form",{staticClass:"uk-form",on:{submit:function(e){return e.preventDefault(),t.updateUserInfo(e)}}},[a("fieldset",{staticClass:"uk-fieldset"},[a("legend",{staticClass:"uk-legend"},[t._v("Update user info")]),a("div",{staticClass:"uk-margin"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.user.status,expression:"user.status"}],staticClass:"uk-textarea",staticStyle:{resize:"none"},attrs:{placeholder:"Set status"},domProps:{value:t.user.status},on:{input:function(e){e.target.composing||t.$set(t.user,"status",e.target.value)}}})]),a("div",{staticClass:"uk-margin"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],staticClass:"uk-input",attrs:{type:"text",placeholder:"Set name"},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}})]),t._m(0)])])]),a("div",{staticClass:"uk-margin"},[a("button",{staticClass:"uk-button uk-button-secondary",on:{click:t.logout}},[t._v("Logout")])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"uk-margin"},[a("button",{staticClass:"uk-button uk-button-primary",attrs:{type:"submit"}},[t._v("Update")])])}],u=a("2f62"),n=a("35ca"),i={name:"settings",data:function(){return{user:{status:"",name:""}}},computed:Object(u["c"])({_id:t=>t.currentUser._id}),methods:{...Object(u["b"])(["toggleAuthState","saveUserData"]),async fetchUserData(){const t=this._id;this.user=await n["a"].fetchUserById(t)},async updateUserInfo(){await n["a"].updateUserInfo(this.user)},logout(){localStorage.clear(),this.$store.dispatch("toggleAuthState",!1),this.$router.push({name:"login"})}},created(){this.fetchUserData()}},o=i,c=a("2877"),l=Object(c["a"])(o,s,r,!1,null,null,null);e["default"]=l.exports},"35ca":function(t,e,a){"use strict";var s=a("7424"),r=a("c0d6");e["a"]={async fetchUserById(t){let e;try{e=await Object(s["a"])({url:`/users/${t}`,method:"GET",crossdomain:!0})}catch(a){console.log(a)}return e.data},async updateUserInfo(t){let e;try{e=await Object(s["a"])({url:"/users/current/update",method:"PUT",crossdomain:!0,data:t}),r["a"].dispatch("saveUserData",e.data.user)}catch(a){console.log(a)}return console.log(e.data),e.data}}}}]);
//# sourceMappingURL=chunk-f9829394.03e9fad4.js.map